!function(e){function t(t){for(var a,c,i=t[0],l=t[1],o=t[2],p=0,m=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&m.push(n[c][0]),n[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);m.length;)m.shift()();return s.push.apply(s,o||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},n={0:0},s=[];function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var u=l;s.push([129,1]),r()}(Array(21).concat([function(e,t,r){e.exports=r.p+"images/user-logo.png"},,,,,function(e,t,r){e.exports=r.p+"images/playlistLogo.png"},function(e,t,r){e.exports=r.p+"images/sun.gif"},,,,,,,,,,,,function(e,t,r){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},,,,function(e,t,r){},,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,,function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(28),c=r.n(s),i=(r(39),r(9)),l=r(4),o=r(18),u=(r(62),r(2)),p=r.n(u),m=function(e){var t=e.children;return n.a.createElement("div",{className:"center-block-wrapper"},t)};m.propTypes={children:p.a.oneOfType([p.a.arrayOf(p.a.node),p.a.node]).isRequired};r(63);var d={main:"/main",genres:"/genres",users:"/users",signUp:"/sign-up",logIn:"/log-in",settings:"/settings",tracks:"/users/tracks",albums:"/users/albums",playlists:"/users/playlists",currentPlaylist:"/users/playlists/:playlistId"},f=(r(64),{primary:"button_primary",secondary:"button_secondary",round:"button_round",roundBase:"button_round button_round_base",roundTransparent:"button_round button_round_transparent",buttonPlaylist:"button__playlist",buttonNewPlaylist:"button__new-playlist",play:"button__play",sliderBtnLeft:"button__slider-left",sliderBtnRight:"button__slider-right"}),g=function(e){var t=e.buttonStyle,r=e.children,a=e.isMain,s=e.onClick,c=e.history,i=e.to,l=e.setCurrentTrack;return n.a.createElement("button",{onClick:function(){s(),l&&l(),i&&c.push(i)},className:"button ".concat(a?"button_main":""," ").concat(f[t])}," ",r," ")};g.propTypes={children:p.a.node.isRequired,buttonStyle:p.a.string,isMain:p.a.bool,onClick:p.a.func,history:p.a.shape({push:p.a.func.isRequired}).isRequired,to:p.a.string,setCurrentTrack:p.a.func},g.defaultProps={buttonStyle:"primary",isMain:!0,to:null,setCurrentTrack:function(){},onClick:function(){}};var h=Object(i.g)(g),y=(r(66),function(e){var t=e.type,r=e.idName,a=e.onChange,s=e.placeholder,c=e.defaultValue;return n.a.createElement("div",{className:"authorization-input-block"},n.a.createElement("input",{type:t,id:r,className:"authorization-input",onChange:a,placeholder:" ",defaultValue:c}),n.a.createElement("label",{className:"authorization-input-lable-block",htmlFor:r},n.a.createElement("span",{className:"authorization-input-label"},s)))});y.propTypes={type:p.a.string,placeholder:p.a.string.isRequired,onChange:p.a.func.isRequired,idName:p.a.string.isRequired,defaultValue:p.a.string},y.defaultProps={type:"string",defaultValue:""};r(67);var b=function(e){var t=e.type,r=e.idName,a=e.onChange,s=e.placeholder,c=e.defaultValue,i=e.dataList;return n.a.createElement("div",{className:"authorization-input-block"},n.a.createElement("input",{type:t,id:r,className:"authorization-input",onChange:a,placeholder:" ",defaultValue:c,list:"data"}),n.a.createElement("label",{className:"authorization-input-lable-block",htmlFor:r},n.a.createElement("span",{className:"authorization-input-label"},s)),n.a.createElement("datalist",{id:"data"},i.map((function(e,t){return n.a.createElement("option",{key:t.toString(),value:e})}))))};b.propTypes={type:p.a.string,placeholder:p.a.string.isRequired,onChange:p.a.func.isRequired,idName:p.a.string.isRequired,defaultValue:p.a.string,dataList:p.a.arrayOf(p.a.string)},b.defaultProps={type:"string",defaultValue:"",dataList:[]};r(68);var v=r(23),E=function(e){var t=e.content;return n.a.createElement("nav",{className:"navigation__links-area navigation__area"},t.map((function(e,t){return n.a.createElement(v.a,{key:t.toString(),to:"".concat(e.link),activeClassName:"current",className:"navigation__content"},e.title)})))};E.propTypes={content:p.a.arrayOf(p.a.object).isRequired};r(69);var O=function(e){var t=e.children,r=e.listName,a=e.listType;return n.a.createElement("div",{className:"list"},n.a.createElement("div",{className:"list__title"},r),n.a.createElement("div",{className:a},t))};O.propTypes={children:p.a.node,listName:p.a.string,listType:p.a.string.isRequired},O.defaultProps={listName:null,children:null};r(70);var k=r(6),w=r.n(k),N=r(3),_=r.n(N),T=r(37),j=r.n(T),P=r(51),R=r.n(P),I="ACCESS_TOKEN",C="REFRESH_TOKEN";function S(e){try{return R()(e)}catch(e){return null}}function x(e){var t=e.token,r=e.refreshToken;sessionStorage.setItem(I,t),localStorage.setItem(C,r)}function L(){return sessionStorage.getItem(I)}function D(){return localStorage.getItem(C)}function q(){var e=S(L()).exp;return!e||e<(new Date).getTime()/1e3}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=["/register","/login"],z=j.a.create({baseURL:"http://192.144.37.88/api",headers:{"Content-Type":"application/json"}}),B=function(e){return U({},e,{headers:U({},e.headers,{Authorization:"Bearer ".concat(L())})})};z.interceptors.request.use((function(e){return A.some((function(t){return t.includes(e.url)}))?e:!L()||q()?function(e){var t;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.a.awrap(j.a.post("".concat("http://192.144.37.88/api","/refresh"),{refreshToken:D()}));case 2:return t=r.sent,x(t.data.token),r.abrupt("return",B(e));case 6:case"end":return r.stop()}}))}(e):B(e)}),(function(e){return Promise.reject(e)}));var H={getNewPlaylisId:function(){return z.post("/playlists").then((function(e){return e.data.id}))}},F=function(e){var t=e.className;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 24 24"},n.a.createElement("path",{fill:"#656565",d:"m11.149573,11.17094l-9.354701,0l0,1.65812l9.354701,0l0,9.119658l1.700855,0l0,-9.119658l9.354701,0l0,-1.65812l-9.354701,0l0,-9.119658l-1.700855,0l0,9.119658z",id:"svg_1"}))};function Z(e){var t=e.history;return n.a.createElement("div",{className:"new-list-element"},n.a.createElement("div",{className:"new-list-element__area"},n.a.createElement(h,{isMain:!1,buttonStyle:"buttonNewPlaylist",onClick:function(){H.getNewPlaylisId().then((function(e){t.push("playlists/".concat(e))}))}},n.a.createElement(F,{className:"new-list-element__add"}))))}F.propTypes={className:p.a.string},F.defaultProps={className:""},Z.propTypes={history:p.a.shape({push:p.a.func.isRequired}).isRequired};var V=Object(i.g)(Z),K=r(11),W=r.n(K),$=r(12),G=r.n($),J=r(13),Q=r.n(J),X=r(14),Y=r.n(X),ee=r(8),te=r.n(ee),re=r(15),ae=r.n(re),ne=(r(93),function(e){var t=e.className;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 24 24"},n.a.createElement("path",{fill:"#656565",d:"M9,6l10,6L9,18V6z"}))});ne.propTypes={className:p.a.string},ne.defaultProps={className:""};var se=function(e){function t(){var e,r;W()(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Q()(this,(e=Y()(t)).call.apply(e,[this].concat(n))),_()(te()(r),"state",{isMouseInside:!1}),_()(te()(r),"mouseAction",(function(){r.setState((function(e){return{isMouseInside:!e.isMouseInside}}))})),r}return ae()(t,e),G()(t,[{key:"render",value:function(){var e=this.props,t=e.path,r=e.name,a=e.id,s=e.to,c=e.refSlide,i=this.state.isMouseInside,l={backgroundImage:"url(".concat(t,")")};return n.a.createElement("div",{onMouseEnter:this.mouseAction,onMouseLeave:this.mouseAction,ref:c,className:"list-element"},n.a.createElement("div",{style:l,className:"list-element__current list-element__hover-area"},n.a.createElement("div",{className:"list-element__transparency"}),i&&n.a.createElement(h,{isMain:!0,buttonStyle:"buttonPlaylist"},n.a.createElement(ne,{className:"list-element__play"}))),n.a.createElement(v.a,{className:"list-element__name",to:"".concat(s).concat(a)},r))}}]),t}(a.Component);se.propTypes={path:p.a.string,name:p.a.string,id:p.a.number,to:p.a.string,refSlide:p.a.shape({current:p.a.instanceOf(Element)})},se.defaultProps={path:"",name:"",id:null,to:null,refSlide:null};r(94);var ce=function(e){var t=e.title,r=e.type,a=e.imagePath,s=e.children,c={alt:"user_avatar",title:"".concat(t),src:"".concat(a)};return n.a.createElement("div",{className:"generalHead"},n.a.createElement(Ee,{className:"user-logo",styleImg:{width:200,height:200},imgConfig:c}),n.a.createElement("div",{className:"generalHead__main-block"},n.a.createElement("div",{className:"generalHead__info"},n.a.createElement("span",{className:"generalHead__type"},r),n.a.createElement("h1",{className:"generalHead__title"},t)),n.a.createElement("div",{className:"generalHead__buttons"},s)))};ce.propTypes={title:p.a.string,type:p.a.string,imagePath:p.a.string,children:p.a.node.isRequired},ce.defaultProps={title:null,type:null,imagePath:null};var ie={getTracks:function(){return z.get("/songs").then((function(e){var t=e.data;return t.map((function(e,t){return{id:e.id,trackId:t,trackName:e.name,authorName:e.author&&e.author.name,albumImgUrl:e.image,trackUrl:e.file}}))}))}},le=r(26),oe=r.n(le),ue=r(21),pe=r.n(ue),me=r(27),de=r.n(me),fe=(oe.a,oe.a,oe.a,oe.a,oe.a,oe.a,oe.a,pe.a,pe.a,pe.a,pe.a,pe.a,pe.a,pe.a,[{path:de.a,name:"Мне нравится1"},{path:de.a,name:"Мне нравится2"},{path:de.a,name:"Мне нравится3"},{path:de.a,name:"Мне нравится4"},{path:de.a,name:"Мне нравится5"},{path:de.a,name:"Мне нравится6"},{path:de.a,name:"Мне нравится7"}]),ge="Альбомы",he="Треки",ye="Плейлисты",be="Плейлист",ve=function(e){var t=e.path,r=e.name,a=e.id,s=e.to;return n.a.createElement(se,{path:t,name:r,id:a,to:s})};ve.propTypes={path:p.a.string.isRequired,name:p.a.string.isRequired,id:p.a.number.isRequired,to:p.a.string.isRequired};r(95);var Ee=function(e){var t=e.className,r=e.styleImg,a=e.imgConfig;return n.a.createElement("div",{className:t},n.a.createElement("img",{className:"logo__image",src:a.src,style:r,alt:a.alt,title:a.title}))};Ee.propTypes={styleImg:p.a.shape({width:p.a.number,height:p.a.number}),imgConfig:p.a.shape({alt:p.a.string,title:p.a.string,src:p.a.string}),className:p.a.string},Ee.defaultProps={styleImg:{width:40,height:40},imgConfig:{alt:"user_avatar",src:pe.a},className:"user-logo__header"};var Oe=r(5),ke=r.n(Oe),we=(r(99),function(){return"".concat(Math.random().toString(36).substr(2,9),"-").concat(Math.random().toString(36).substr(2,9),"-").concat(Math.random().toString(36).substr(2,9))}),Ne={imgUpload:function(e){return z.patch("/playlists/image",e)},titleUpdate:function(e){return z.put("/playlists/".concat(e.id),{title:e.title})},delete:function(e){return z.delete("/playlists/".concat(e))},getAuthorsList:function(){return z.get("/authors").then((function(e){return function(e){var t=[];return e.forEach((function(e){t.push(e.name)})),t}(e.data)}))},uploadTrack:function(e){return z.post("/songs",e)},addTrack:function(e){return z.patch("/playlists/".concat(e.playlistId,"/song"),{id:e.trackId})},removeTrack:function(e){return z.delete("/playlists/".concat(e.playlistId,"/song/").concat(e.trackId))},deleteTrack:function(e){return z.delete("/songs/".concat(e))}},_e=r(30),Te=r.n(_e);function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Re=function(e){return{type:"SET_CURRENT_TRACK",payload:Pe({},e)}},Ie=function(e){return{type:"SET_CURRENT_PLAYLIST",payload:Te()(e)}},Ce=r(31),Se=r(52),xe=r(10),Le=function(e){return"".concat(Math.floor(e/60),":").concat(Math.floor(e%60))},De=function(e){var t=e.current,r=t.currentTime,a=t.duration;return"".concat(r/a*100,"%")},qe=function(e){return e&&e.current},Me=function(e){for(var t,r,a=e,n=a.length-1;n>0;n-=1)r=a[t=Math.floor(Math.random()*(n+1))],a[t]=a[n],a[n]=r;return a},Ue=function(e,t){return e<t.length-1?e+1:0},Ae=function(e,t){return e>0?e-1:t.length-1},ze=function(e){return{id:e.id,trackId:e.trackId,paused:e.paused}};function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var He=function(e){var t=Object(a.useState)(!1),r=ke()(t,2),s=r[0],c=r[1],i=e.trackInfo,l=e.trackInfo,o=l.id,u=l.trackId,p=l.authorName,m=l.trackName,d=e.setCurrentTrack,f=e.currentTrack,g=f.id,y=f.paused,b=e.setPlaylist,v=e.playlistId,E=e.addToTracklist,O=e.isSearchResult,k=function(){return c(!s)};return n.a.createElement("div",{className:"track",onMouseLeave:k,onMouseEnter:k},n.a.createElement("div",{className:"track__main"},s||g===o?n.a.createElement("div",{className:"track__play"},n.a.createElement(h,{isMain:!1,buttonStyle:"play",onClick:function(){var e=!1;b(),g===o&&(e=!y),d(ze(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i,{paused:e})))}},g!==o||y?n.a.createElement(Ce.a,{className:"play-icon",title:"Запустить"}):n.a.createElement(Se.a,{className:"play-icon",title:"Остановить"}))):n.a.createElement("div",{className:"track__id"},u+1),n.a.createElement("div",{className:"track__name"},m)),n.a.createElement("div",{className:"track__properties"},n.a.createElement("div",{className:"track__artist"}," ",p||""," "),n.a.createElement("div",{className:"track__duration"},s?n.a.createElement("div",{className:"track__controls"},n.a.createElement(h,{isMain:!1,buttonStyle:"roundTransparent",onClick:function(){O?Ne.addTrack({trackId:o,playlistId:v}):E(i)}},n.a.createElement(Ce.b,{title:O?"Добавить в плейлист":"Добавить в очередь"})),O?n.a.createElement("div",null):n.a.createElement(h,{isMain:!1,buttonStyle:"roundTransparent",onClick:function(){v>0?Ne.removeTrack({trackId:o,playlistId:v}):Ne.deleteTrack(o)}},n.a.createElement(xe.g,{title:v>0?"Удалить трек из плейлиста":"Удалить трек"}))):"00:00")))};He.propTypes={trackInfo:p.a.shape({id:p.a.number,index:p.a.number,trackName:p.a.string,authorName:p.a.string,trackId:p.a.number}),currentTrack:p.a.shape({trackId:p.a.number,paused:p.a.bool,id:p.a.number}).isRequired,setPlaylist:p.a.func.isRequired,setCurrentTrack:p.a.func.isRequired,playlistId:p.a.number,addToTracklist:p.a.func.isRequired,isSearchResult:p.a.bool},He.defaultProps={trackInfo:p.a.shape({id:"",index:"",trackName:"",authorName:"",trackId:""}),playlistId:0,isSearchResult:!1};var Fe=Object(l.b)((function(e){return{currentTrack:e.currentTrack}}),(function(e){return{setCurrentTrack:function(t){return e(Re(t))},addToTracklist:function(t){return e(function(e){return{type:"ADD_TO_TRACKLIST",payload:Pe({},e)}}(t))}}}))(He),Ze=(r(103),r(16)),Ve=function(e,t,r){var a=document.body.offsetWidth,n=e.length,s=Math.floor(a/t);return{rightBorder:-(t*(n-s)-(a-t*s))-r,visibleElem:s,countElem:n,width:t}},Ke=function(e){var t=e.arrayForSlide,r=e.children,s=e.reference,c=Object(a.useState)([]),i=ke()(c,2),l=i[0],o=i[1],u=Object(a.useState)(0),p=ke()(u,2),m=p[0],d=p[1],f=function(){return s.current?s.current.offsetWidth+2*parseInt(getComputedStyle(s.current).margin,10):0};Object(a.useEffect)((function(){t.length>0&&0===l.length&&o(t),d(31)}),[]);return n.a.createElement("div",{className:"slider"},n.a.createElement("div",{className:"slider__container"},n.a.createElement("div",{className:"slider__items",style:{transform:"translateX(".concat(m,"px)")}},r),n.a.createElement("div",{className:"slider__button"},n.a.createElement(h,{buttonStyle:"sliderBtnLeft",onClick:function(){var e=Ve(t,f(),31),r=e.rightBorder,a=e.width;d(31===m?r:m+a>31?31:m+a)}},n.a.createElement(Ze.a,null)),n.a.createElement(h,{buttonStyle:"sliderBtnRight",onClick:function(){var e=Ve(t,f(),31),r=e.rightBorder,a=e.width;d(r===m?31:m-a<=r?r:m-a)}},n.a.createElement(Ze.b,null)))))};Ke.propTypes={arrayForSlide:p.a.arrayOf(p.a.shape({id:p.a.number,title:p.a.string,image:p.a.string})).isRequired,children:p.a.node.isRequired,reference:p.a.shape({current:p.a.shape(Element)})},Ke.defaultProps={reference:null};r(104),r(105);var We=function(e,t){var r=new FormData;return r.append("image",e),r.append("id",t),r};function $e(e){var t=e.title,r=e.imagePath,s=e.playlistId,c=Object(a.useState)(),i=ke()(c,2),l=i[0],o=i[1];var u={alt:"user_avatar",title:"".concat(t),src:"".concat(void 0!==l?l:r)};return n.a.createElement("div",{className:"fileInput"},n.a.createElement(Ee,{className:"user-logo",styleImg:{width:200,height:200},imgConfig:u}),n.a.createElement("label",{htmlFor:"fileInput",className:"fileInput__file-button"},n.a.createElement("input",{id:"fileInput",className:"fileInput__input",type:"file",onChange:function(e){return function(e){e.preventDefault();var t=new FileReader,r=e.target.files[0];t.onloadend=function(){Ne.imgUpload(We(r,s)),o(t.result)},t.readAsDataURL(r)}(e)}}),n.a.createElement("span",{className:"fileInput__file-button-text"},"Изменить обложку")))}$e.propTypes={title:p.a.string,imagePath:p.a.string,playlistId:p.a.number},$e.defaultProps={title:null,imagePath:null,playlistId:null};var Ge=function(e){var t=e.title,r=e.type,a=e.imagePath,s=e.children,c=e.playlistId;return n.a.createElement("div",{className:"generalHead"},n.a.createElement($e,{title:t,type:r,imagePath:a,playlistId:c}),n.a.createElement("div",{className:"generalHead__main-block"},n.a.createElement("div",{className:"generalHead__info"},n.a.createElement("span",{className:"generalHead__type"},r),n.a.createElement("input",{defaultValue:t,className:"generalHead__title",onChange:function(e){Ne.titleUpdate({id:c,title:e.target.value})}})),n.a.createElement("div",{className:"generalHead__buttons"},s)))};Ge.propTypes={title:p.a.string,type:p.a.string,imagePath:p.a.string,children:p.a.node.isRequired,playlistId:p.a.number},Ge.defaultProps={title:null,type:null,imagePath:null,playlistId:null};r(106);var Je=function(e){var t=e.className,r=e.placeholder;return n.a.createElement("div",{className:"".concat(t)},n.a.createElement("input",{className:"search__input",placeholder:r}))};Je.propTypes={className:p.a.string.isRequired,placeholder:p.a.string.isRequired};r(107),r(108);function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ye=function(e){return{type:"LOG_IN",user:Xe({},e)}},et=function(e){return{type:"USER_AUTHORIZATION",isAuthorized:e}},tt={registration:function(e){return z.post("/register",e).then((function(e){return x(e.data.token),e.data}))},login:function(e){return z.post("/login",e).then((function(e){return x(e.data.token),e.data})).catch((function(e){return console.error(e),null}))},refreshToken:function(e){return z.post("/refresh",e).then((function(e){x(e.data.token)}))},getUser:function(){return z.get("/user").then((function(e){return e.data}))}},rt=function(e){function t(){var e,r;W()(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Q()(this,(e=Y()(t)).call.apply(e,[this].concat(n))),_()(te()(r),"state",{username:"&;",password:"&;",errorMsg:""}),_()(te()(r),"inputHandler",(function(e){e.preventDefault();var t=e.currentTarget,a=t.id,n=t.value;r.setState(_()({},a,n))})),_()(te()(r),"getUser",(function(e){var t=e.user;return{firstname:t.firstname,secondname:t.secondname,username:t.username}})),_()(te()(r),"submitHandler",(function(){var e,t,a,n,s,c,i,l,o;return w.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e=r.props,t=e.history,a=e.submitUser,n=e.onClose,s=e.setIsAuthorisedDispath,c=r.state,i=c.username,l=c.password,u.next=4,w.a.awrap(tt.login({username:i,password:l}));case 4:(o=u.sent)&&o.user.username===i?(a(r.getUser(o)),s(!0),n(),t.push(d.playlists)):r.setState({errorMsg:"Введенная комбинация логина и пароля не существует!"});case 6:case"end":return u.stop()}}))})),r}return ae()(t,e),G()(t,[{key:"render",value:function(){var e=this.state.errorMsg;return n.a.createElement("div",{className:"sign-in-tab"},n.a.createElement(y,{className:"login-tab__input",placeholder:"Логин",idName:"username",onChange:this.inputHandler}),n.a.createElement(y,{className:"sign-in-tab__input",type:"password",placeholder:"Пароль",idName:"password",onChange:this.inputHandler}),n.a.createElement("div",{className:"sign-in-tab__error-field"},e),n.a.createElement(h,{className:"sign-in-tab__submit-button",color:"primary",buttonType:"button",onClick:this.submitHandler},"Войти"))}}]),t}(n.a.Component);rt.propTypes={history:p.a.shape({push:p.a.func.isRequired}).isRequired,submitUser:p.a.func.isRequired,onClose:p.a.func.isRequired,setIsAuthorisedDispath:p.a.func.isRequired};var at=Object(l.b)(null,(function(e){return{submitUser:function(t){return e(Ye(t))},setIsAuthorisedDispath:function(t){return e(et(t))}}}))(Object(i.g)(rt));r(109);function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var st=function(e){return 0===e.length?"Введите имя":e.length>100?"Имя должно состоять из не более чем ста символов":e.match(new RegExp("^[A-Za-zА-Яа-я]+$"))?"":"Имя должно состоять из букв латиницы или кириллицы"},ct=function(e){return 0===e.length?"Введите фамилию":e.length>100?"Фамилия должна состоять из не более чем ста символов":e.match(new RegExp("^[A-Za-zА-Яа-я]+$"))?"":"Фамилия должна состоять из букв латиницы или кириллицы"},it=function(e){return 0===e.length?"Введите логин":e.length<6?"Логин должен состоять из не менее чем 6 символов":e.length>20?"Логин должен состоять из не более чем 20 символов":e.match(new RegExp(/^\w+$/))?"":"Логин может состоять только из букв латиницы, цифр и знака подчеркивания"},lt=function(e){return 0===e.length?"Введите пароль":e.length<8||e.length>64?"Пароль должен состоять из 8-64 символов":e.match(new RegExp(/^\w+$/))?"":"Пароль может состоять только из букв латиницы, цифр и знака подчеркивания"},ot=function(e,t){return" "!==t&&0!==t.length&&e.match(new RegExp("^[A-Za-z0-9]{8,64}$"))?t!==e&&0!==e.length?"Введенные пароли не совпадают":"":"Повторите корректно введённый пароль"},ut=function(e,t){var r=e.firstname,a=e.secondname,n=e.username,s=e.password,c=e.repeatedPassword,i=[];return i.push({firstnameErrorText:st(r)}),i.push({secondnameErrorText:ct(a)}),i.push({usernameErrorText:it(n)}),i.push({passwordInputErrorText:lt(s)}),i.push({passwordRepeatErrorText:ot(s,c)}),t||(i=function(e,t){return e.map((function(e,r){var a=Object.keys(e);return _()({},a,"&;"===t[r]?"":e[a])}))}(i,[r,a,n,s,c])),i.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t)}))},pt=function(e){return!Object.keys(e).some((function(t){return""!==e[t]}))},mt=[{placeholder:"Имя",idName:"firstname",err:"firstnameErrorText"},{placeholder:"Фамилия",idName:"secondname",err:"secondnameErrorText"},{placeholder:"Логин",idName:"username",err:"usernameErrorText"}];function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gt=function(e){function t(){var e,r;W()(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Q()(this,(e=Y()(t)).call.apply(e,[this].concat(n))),_()(te()(r),"state",{firstname:"&;",secondname:"&;",username:"&;",password:"&;",repeatedPassword:"&;",firstnameErrorText:" ",secondnameErrorText:" ",usernameErrorText:" ",passwordInputErrorText:" ",passwordRepeatErrorText:" ",isSubmitFirstClicked:!1,isSubmitted:!1,showPassword:!1}),_()(te()(r),"getUser",(function(){var e=r.state;return{firstname:e.firstname,secondname:e.secondname,username:e.username}})),_()(te()(r),"inputHandler",(function(e){var t,a,n,s;return w.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),t=r.state.isSubmitFirstClicked,a=e.currentTarget,n=a.id,s=a.value,c.next=5,w.a.awrap(r.setState(_()({},n,s)));case 5:r.setState((function(e){return ut(e,t)}));case 6:case"end":return c.stop()}}))})),_()(te()(r),"passwordVisToggleHandeler",(function(){var e=r.state.showPassword;r.setState({showPassword:!e})})),_()(te()(r),"submitHandler",(function(){var e,t,a,n,s,c,i,l;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=r.props,t=e.history,a=e.submitUser,n=e.onClose,s=e.setAuthorizationStatus,c=ut(r.state,!0),!pt(c)){o.next=12;break}return i=r.state.password,o.next=6,w.a.awrap(tt.registration(ft({},r.getUser(),{password:i})));case 6:return l=o.sent,a(r.getUser()),l.token&&s(!0),n(),t.push(d.playlists),o.abrupt("return");case 12:r.setState(ft({isSubmitFirstClicked:!0},c));case 13:case"end":return o.stop()}}))})),r}return ae()(t,e),G()(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.showPassword,a=t.passwordInputErrorText,s=t.passwordRepeatErrorText;return n.a.createElement("div",{className:"registration-tab"},mt.map((function(t,r){return n.a.createElement("div",{key:r.toString()},n.a.createElement(y,{className:"registration-tab__input",type:"string",placeholder:t.placeholder,idName:t.idName,onChange:e.inputHandler}),n.a.createElement("div",{className:"registration-tab__error-field"},e.state[t.err]))})),n.a.createElement("div",{className:"registration-tab__password"},n.a.createElement(y,{className:"registration-tab__input",type:r?"string":"password",placeholder:"Пароль",idName:"password",onChange:this.inputHandler}),r?n.a.createElement(xe.e,{className:"registration-tab__password_vis-toggle",onClick:this.passwordVisToggleHandeler}):n.a.createElement(xe.d,{className:"registration-tab__password_vis-toggle",onClick:this.passwordVisToggleHandeler})),n.a.createElement("div",{className:"registration-tab__error-field"},a),n.a.createElement(y,{className:"registration-tab__input",type:r?"string":"password",placeholder:"Подтверждение пароля",idName:"repeatedPassword",onChange:this.inputHandler}),n.a.createElement("div",{className:"registration-tab__error-field"},s),n.a.createElement(h,{className:"registration-tab__submit-button",color:"primary",buttonType:"button",onClick:this.submitHandler},"Зарегестирироваться"))}}]),t}(n.a.Component);gt.propTypes={history:p.a.shape({push:p.a.func.isRequired}).isRequired,submitUser:p.a.func.isRequired,onClose:p.a.func,setAuthorizationStatus:p.a.func.isRequired},gt.defaultProps={onClose:null};var ht=Object(l.b)(null,(function(e){return{submitUser:function(t){return e(Ye(t))},setAuthorizationStatus:function(t){return e(et(t))}}}))(Object(i.g)(gt)),yt=function(e){function t(){var e,r;W()(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Q()(this,(e=Y()(t)).call.apply(e,[this].concat(n))),_()(te()(r),"state",{checked:!1}),_()(te()(r),"componentDidMount",(function(){var e,t,a,n;return w.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=r.props,t=e.submitUser,a=e.setIsAuthorisedDispath,n=D(),!L()){s.next=11;break}return s.t0=t,s.next=6,w.a.awrap(tt.getUser());case 6:s.t1=s.sent.user,(0,s.t0)(s.t1),a(!0),s.next=20;break;case 11:if(!n){s.next=20;break}return s.next=14,w.a.awrap(tt.refreshToken(n));case 14:return s.t2=t,s.next=17,w.a.awrap(tt.getUser());case 17:s.t3=s.sent.user,(0,s.t2)(s.t3),a(!0);case 20:r.setState({checked:!0});case 21:case"end":return s.stop()}}))})),r}return ae()(t,e),G()(t,[{key:"render",value:function(){var e=this.props.children;return this.state.checked?n.a.createElement(n.a.Fragment,null,e):n.a.createElement(n.a.Fragment,null)}}]),t}(a.Component);yt.propTypes={children:p.a.node.isRequired,submitUser:p.a.func.isRequired,setIsAuthorisedDispath:p.a.func.isRequired};var bt=Object(l.b)(null,(function(e){return{submitUser:function(t){return e(Ye(t))},setIsAuthorisedDispath:function(t){return e(et(t))}}}))(yt);function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(110);var Ot=function(e){var t=e.children,r=e.onClose;return c.a.createPortal(n.a.createElement("div",{className:"modal",onClick:function(e){e.stopPropagation()}},n.a.createElement("div",{className:"modal__transparency",onClick:r}),n.a.createElement("div",{className:"modal__activeArea"},t)),document.body)},kt=function(){var e=Object(a.useState)(!1),t=ke()(e,2),r=t[0],s=t[1],c=Object(a.useState)(!1),i=ke()(c,2),l=i[0],o=i[1],u=function(){return s(!1)},p=function(){return o(!l)};return n.a.createElement("div",{className:"user-info__authentication-modal"},n.a.createElement(h,{onClick:function(){return s(!0)}},"Войти"),r?n.a.createElement(Ot,{onClose:u},l?n.a.createElement(n.a.Fragment,null,n.a.createElement(ht,{onClose:u}),n.a.createElement(h,{className:"registration-tab__submit-button",color:"primary",buttonType:"button",onClick:p},"Назад")):n.a.createElement(n.a.Fragment,null,n.a.createElement(at,{onClose:u}),n.a.createElement(h,{buttonStyle:"primary",buttonType:"button",onClick:p},"Зарегестрироваться"))):null)},wt=function(e){var t=Object(l.c)((function(e){return e.isAuthorized})),r=e.className;return n.a.createElement("div",{className:"user-info__area"},t||n.a.createElement(kt,null),n.a.createElement(v.a,{to:d.tracks,activeClassName:"user-info__active",isActive:function(e,t){return!!t.pathname.includes("/signUp")},className:"navigation__link navigation__content ".concat(r," ")},n.a.createElement(xe.f,{className:"user-info__heart-icon"}),"Моя музыка"),n.a.createElement(Ee,null))};wt.propTypes={className:p.a.string},wt.defaultProps={className:"user-info__info"};var Nt=[{link:d.main,title:"Главное"},{link:d.genres,title:"Жанры"}],_t=function(){return n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"header__left"},n.a.createElement(Je,{className:"search__input-area",placeholder:"Трек, альбом, исполнитель, подкаст"}),n.a.createElement(E,{content:Nt})),n.a.createElement(wt,{className:"user-info__info"}))},Tt=function(e){var t=e.dispatchListTracks,r=e.songs,s=e.isSearchResult,c=e.playlistId,i=Object(a.useState)([{}]),l=ke()(i,2),o=l[0],u=l[1];return Object(a.useEffect)((function(){null===r&&w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(ie.getTracks().then((function(e){u(e)})));case 2:case"end":return e.stop()}}))}),[]),n.a.createElement(O,{listName:s?"Результаты поиска":he,listType:"list__content_column"},(r||o).map((function(e){return n.a.createElement(Fe,{key:we(),trackInfo:e,setPlaylist:function(){t(r||o)},isSearchResult:s,playlistId:c})})))};Tt.propTypes={songs:p.a.oneOfType([p.a.array,p.a.object]),dispatchListTracks:p.a.func.isRequired,isSearchResult:p.a.bool,playlistId:p.a.number},Tt.defaultProps={songs:null,isSearchResult:!1,playlistId:0};var jt=Object(l.b)(null,(function(e){return{dispatchListTracks:function(t){return e(Ie(t))}}}))(Tt);function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var It=function(e){return e.map((function(e,t){return{id:e.id,trackId:t,trackName:e.name,authorName:e.author&&e.author.name,albumImgUrl:e.image,trackUrl:e.file}}))},Ct=function(){return z.get("/playlists").then((function(e){return e.data.map((function(e){return Rt({},e,{songs:It(e.songs)})}))}))},St=function(e){return z.get("/playlists/".concat(e)).then((function(e){var t=e.data;return Rt({},t,{songs:It(t.songs)})}))},xt=function(e){var t=e.listName,r=e.listType,s=Object(a.useState)([]),c=ke()(s,2),i=c[0],l=c[1];return Object(a.useEffect)((function(){Ct().then((function(e){return l(e)}))}),[]),n.a.createElement(O,{listName:t,listType:r},i.map((function(e){return n.a.createElement(ve,{key:we(),id:e.id,path:e.image,name:e.title,to:"/users/playlists/"})})),n.a.createElement(V,null))};xt.propTypes={listName:p.a.string.isRequired,listType:p.a.string.isRequired};var Lt=function(){return n.a.createElement(O,{listName:ge,listType:"list__content_row"},fe.map((function(e){return n.a.createElement(se,{key:we(),path:e.path,name:e.name})})),n.a.createElement(V,null))},Dt=function(e){var t=e.className;return n.a.createElement("svg",{className:t,viewBox:"0 0 30 24",xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",version:"1.1",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.41421"},n.a.createElement("g",{fill:"#ffdb4d"},n.a.createElement("circle",{cx:"20.5",cy:"5.5",r:"3.5"}),n.a.createElement("path",{d:"M13.853,2c0.719,-0.001 1.338,0.526 1.453,1.236l0.11,0.764c-0.141,0.476 -0.216,0.979 -0.216,1.5c0,0.666 0.123,1.304 0.348,1.892c-0.44,-0.314 -0.832,-0.534 -1.25,-0.697l-0.546,-0.21l-0.084,-0.58l-0.273,-1.905l-2.784,0l-0.357,2.485l-0.547,0.211c-0.444,0.172 -0.859,0.41 -1.334,0.757l-0.443,0.323l-0.51,-0.199l-1.874,-0.734l-1.366,2.294l2.011,1.51l-0.07,0.573c-0.039,0.325 -0.058,0.561 -0.058,0.78c0.002,0.25 0.022,0.499 0.057,0.746l0.073,0.571l-2.015,1.542l1.365,2.296l2.393,-0.944l0.447,0.334c0.46,0.345 0.876,0.586 1.324,0.76l0.547,0.21l0.083,0.58l0.273,1.905l2.785,0l0.355,-2.476l0.536,-0.215c0.472,-0.189 0.896,-0.434 1.337,-0.764l0.446,-0.334l0.52,0.205l1.873,0.74l1.365,-2.297l-2.015,-1.542l0.074,-0.571c0.038,-0.299 0.056,-0.528 0.056,-0.746c0,-0.219 -0.018,-0.455 -0.057,-0.78l-0.07,-0.573l0.453,-0.339c0.679,0.316 1.435,0.492 2.232,0.492c0.158,0 0.314,-0.007 0.468,-0.02l-1.041,0.782c0.01,0.151 0.015,0.294 0.015,0.438c0,0.138 -0.004,0.276 -0.014,0.418l1.511,1.156c0.574,0.44 0.726,1.231 0.361,1.88l-1.838,3.092c-0.353,0.631 -1.114,0.884 -1.803,0.639l-1.804,-0.711c-0.257,0.167 -0.516,0.316 -0.785,0.45l-0.268,1.866c-0.121,0.704 -0.737,1.21 -1.449,1.21l-3.701,0c-0.719,0 -1.338,-0.526 -1.452,-1.236l-0.264,-1.836c-0.267,-0.132 -0.527,-0.282 -0.787,-0.454l-1.836,0.724c-0.655,0.232 -1.416,-0.02 -1.757,-0.63l-1.846,-3.105c-0.381,-0.625 -0.225,-1.447 0.358,-1.89l1.51,-1.155c-0.019,-0.285 -0.018,-0.571 0.001,-0.856l-1.512,-1.136c-0.58,-0.44 -0.738,-1.256 -0.362,-1.88l1.838,-3.092c0.356,-0.628 1.127,-0.903 1.8,-0.64l1.81,0.706c0.261,-0.17 0.519,-0.318 0.783,-0.448l0.268,-1.862c0.12,-0.704 0.736,-1.21 1.449,-1.21l3.7,0Zm2.175,10c0,-2.194 -1.806,-4 -4,-4c-2.195,0 -4,1.806 -4,4c0,2.194 1.805,4 4,4c2.194,0 4,-1.806 4,-4Zm-6,0c0,-1.097 0.903,-2 2,-2c1.097,0 2,0.903 2,2c0,1.097 -0.903,2 -2,2c-1.097,0 -2,-0.903 -2,-2Z",fill:"#dddddd",fillRule:"nonzero"})))};Dt.propTypes={className:p.a.string},Dt.defaultProps={className:""};var qt=[{link:d.tracks,title:"Треки"},{link:d.albums,title:"Альбомы"},{link:d.playlists,title:"Плейлисты"}];function Mt(e){var t=e.currentUser,r=t.firstname,a=t.secondname,s=e.history;return r&&a||s.push(d.main),n.a.createElement("main",{className:"container"},n.a.createElement(ce,{title:"".concat(r," ").concat(a),type:"Моя музыка",imagePath:pe.a},n.a.createElement(h,{isMain:!1,buttonStyle:"roundBase"},n.a.createElement(Ze.c,{className:"icon-size"})," Вперемешку"),n.a.createElement(h,{to:d.settings,isMain:!1,buttonStyle:"roundTransparent"},n.a.createElement(Dt,null)," Настройки")),n.a.createElement(E,{content:qt}),n.a.createElement(i.c,null,n.a.createElement(At,null)))}Mt.propTypes={currentUser:p.a.shape({firstname:p.a.string,secondname:p.a.string}).isRequired,history:p.a.shape({push:p.a.func.isRequired}).isRequired};var Ut=Object(i.g)(Object(l.b)((function(e){return{currentUser:e.currentUser}}))(Mt)),At=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{path:d.tracks,render:function(){return n.a.createElement(jt,null)}}),n.a.createElement(i.a,{path:d.albums,render:function(){return n.a.createElement(Lt,null)}}),n.a.createElement(i.a,{path:d.playlists,render:function(){return n.a.createElement(xt,{listName:ye,listType:"list__content_row"})}}))},zt=(r(111),r(112),function(e){function t(e){var r;return W()(this,t),r=Q()(this,Y()(t).call(this,e)),_()(te()(r),"setCurrentTrackTime",(function(){var e=r.props,t=e.audio,a=e.audio.current,n=a.currentTime,s=a.duration;qe(t)&&r.setState({trackElapsed:Le(n),trackDuration:Le(s)})})),_()(te()(r),"setProgressTrack",(function(){var e=r.props.audio;qe(e)&&r.setState({progressBarFulfillTime:De(e)})})),_()(te()(r),"progressBarClickHandler",(function(e){var t=e.clientX/r.progressBarTopBar.current.offsetWidth;r.setState({progressBarFulfillTime:"".concat(100*t,"%")});var a=r.props.audio;a.current.currentTime=a.current.duration*t,r.setState({trackElapsed:Le(a.current.currentTime)})})),r.state={trackElapsed:"0:00",trackDuration:"0:00",progressBarFulfillTime:"0%"},r.progressBarFulfill=n.a.createRef(),r.progressBarTopBar=n.a.createRef(),r}return ae()(t,e),G()(t,[{key:"componentDidMount",value:function(){setInterval(this.setProgressTrack,100),setInterval(this.setCurrentTrackTime,1e3)}},{key:"render",value:function(){var e=this.state,t=e.trackElapsed,r=e.trackDuration,a=e.progressBarFulfillTime;return n.a.createElement("div",{className:"progress-bar"},n.a.createElement("div",{className:"progress-bar__background"}),n.a.createElement("div",{className:"progress-bar__loading"}),n.a.createElement("div",{className:"progress-bar__fulfil",ref:this.progressBarFulfill,style:{width:a}}),n.a.createElement("div",{className:"progress-bar__clock",ref:this.progressBarTopBar,onClick:this.progressBarClickHandler},n.a.createElement("div",{className:"clock-left"},t),n.a.createElement("div",{className:"clock-right"},r)))}}]),t}(n.a.Component));zt.propTypes={audio:p.a.object.isRequired};r(113);var Bt=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("rect",{width:"28",height:"28"}),n.a.createElement("path",{fill:"#656565",d:"M3,7 L13,14 L3,21 L3,7 Z M23,7 L25,7 L25,21 L23,21 L23,7 Z M13,7 L23,14 L13,21 L13,7 Z",transform:"matrix(-1 0 0 1 28 0)"})))};Bt.propTypes={classname:p.a.string},Bt.defaultProps={classname:""};var Ht=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("path",{fill:"#656565",d:"M3,7 L13,14 L3,21 L3,7 Z M23,7 L25,7 L25,21 L23,21 L23,7 Z M13,7 L23,14 L13,21 L13,7 Z"}),n.a.createElement("rect",{width:"28",height:"28"})))};Ht.propTypes={classname:p.a.string},Ht.defaultProps={classname:""};var Ft=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",x:"0",y:"0",width:"24",height:"24"}),n.a.createElement("path",{fill:"#656565",d:"M7.714,16.286l12,0l0,1.714l-12,0l0,-1.714Zm-3.428,0l1.714,0l0,1.714l-1.714,0l0,-1.714Zm4.285,-5.143l11.143,0l0,1.714l-11.143,0l0,-1.714Zm-0.857,-5.143l12,0l0,1.714l-12,0l0,-1.714Zm-3.428,0l1.714,0l0,1.714l-1.714,0l0,-1.714Zm0,4.286l2.571,1.714l-2.571,1.714l0,-3.428Z"})))};Ft.propTypes={classname:p.a.string},Ft.defaultProps={classname:""};var Zt=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("path",{d:"M0 0h24v24H0z",opacity:".2"}),n.a.createElement("path",{fill:"#656565",d:"M11 4.875L8 7.5l-1-1 5-5 5 5-1 1-3-2.625V13h-2V4.875zM20 18v2H4V10h2v8h12v-8h2v8z"})))};Zt.propTypes={classname:p.a.string},Zt.defaultProps={classname:""};var Vt=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 24 24"},n.a.createElement("path",{fill:"#656565",d:"M19.7,5.7L19.7,5.7l-0.7-0.7c0,0,0,0,0,0l-0.7-0.7l0,0C16.6,2.8,14.4,2,12,2C6.5,2,2,6.5,2,12  c0,2.4,0.8,4.6,2.3,6.3l0,0l0.7,0.7c0,0,0,0,0,0l0.7,0.7l0,0C7.4,21.2,9.6,22,12,22c5.5,0,10-4.5,10-10C22,9.6,21.2,7.4,19.7,5.7z   M4,12c0-4.4,3.6-8,8-8c1.8,0,3.5,0.6,4.9,1.7L5.7,16.9C4.6,15.5,4,13.8,4,12z M12,20c-1.8,0-3.5-0.6-4.9-1.7L18.3,7.1  C19.4,8.5,20,10.2,20,12C20,16.4,16.4,20,12,20z"}))};Vt.propTypes={classname:p.a.string},Vt.defaultProps={classname:""};var Kt=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("rect",{width:"28",height:"28"}),n.a.createElement("path",{fill:"#656565",fillRule:"nonzero",d:"M20,18 L20,16 L24,19 L20,22 L20,20 C17.6723243,20 16.3155219,19.4732271 14.8695595,17.740743 L16.0564387,16.021958 C17.2192129,17.3955176 18.35074,18 20,18 Z M20,8 L20,6 L24,9 L20,12 L20,10 C17.4363281,10 16.123642,11.4605967 14,15 C11.623642,18.9605967 10.2696614,20 7,20 L4,20 L4,18 L7,18 C9.5636719,18 10.876358,16.5394033 13,13 C15.376358,9.03940329 16.7303386,8 20,8 Z M12.271068,10.4311793 L11.0038834,12.049953 C9.81974656,10.6255585 8.67776541,10 7,10 L4,10 L4,8 L7,8 C9.40296584,8 10.7712356,8.56140168 12.271068,10.4311793 Z"})))};Kt.propTypes={classname:p.a.string},Kt.defaultProps={classname:""};var Wt=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("rect",{width:"28",height:"28"}),n.a.createElement("path",{fill:"#656565",fillRule:"nonzero",d:"M9,21 L9,23 L5,20 L9,17 L9,19 L17,19 C19.5,19 21,16.5 21,14 L23,14 C23,17.731221 20.7350416,21 17,21 L9,21 Z M19,8 L19,6 L23,9 L19,12 L19,10 L12,10 C9.09373756,10 7,12.0968545 7,15 L5,15 C5,10.7636809 8.26495843,8 12,8 L19,8 Z"})))};Wt.propTypes={classname:p.a.string},Wt.defaultProps={classname:""};var $t=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",height:"28px",width:"28px",viewBox:"0 0 28 28"},n.a.createElement("g",{fill:"none"},n.a.createElement("rect",{width:"28",height:"28"}),n.a.createElement("rect",{width:"24",height:"24",x:"2",y:"2",opacity:".2"}),n.a.createElement("polygon",{fill:"#656565",points:"3 17 7.057 17 15 22 15 6 7.028 11 3 11"}),n.a.createElement("polygon",{fill:"#656565",points:"21 15.414 23.828 18.243 25.243 16.828 22.414 14 25.243 11.172 23.828 9.757 21 12.586 18.172 9.757 16.757 11.172 19.586 14 16.757 16.828 18.172 18.243 21 15.414"})))};$t.propTypes={classname:p.a.string},$t.defaultProps={classname:""};var Gt=function(e){var t=e.classname;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",height:"28px",width:"28px",viewBox:"0 0 28 28"},n.a.createElement("g",{fill:"none"},n.a.createElement("rect",{width:"28",height:"28"}),n.a.createElement("rect",{width:"24",height:"24",x:"2",y:"2",opacity:".2"}),n.a.createElement("polygon",{fill:"#656565",points:"3 17 7.057 17 15 22 15 6 7.028 11 3 11"}),n.a.createElement("path",{fill:"#656565",fillRule:"nonzero",d:"M19.3161896,4.3676207 C19.6740854,4.56556808 20.0197782,4.78288244 20.351854,5.01814981 C23.1642896,7.01068989 25,10.2909684 25,14 C25,17.7543646 23.119142,21.0694314 20.2482943,23.054332 C19.9480793,23.2619002 19.6370382,23.4549223 19.3161896,23.6323793 L18.4208576,21.8417153 C18.6566445,21.7083928 18.8868635,21.5641365 19.1108853,21.4092481 C21.5292145,19.7372183 23,16.9942772 23,14 C23,11.0422606 21.5652403,8.32887413 19.1956655,6.65008977 C18.9450987,6.47256951 18.686531,6.3084824 18.420867,6.158266 L19.3161896,4.3676207 Z"}),n.a.createElement("path",{fill:"#656565",fillRule:"nonzero",d:"M17.5246106,7.95077877 C19.6033359,9.16457561 21,11.4191836 21,14 C21,16.5808164 19.6033359,18.8354244 17.5246106,20.0492212 L16.6274168,18.2548335 C18.0513732,17.3736508 19,15.7976072 19,14 C19,12.2023928 18.0513732,10.6263492 16.6274168,9.74516647 L17.5246106,7.95077877 Z"}),n.a.createElement("g",{transform:"translate(0 28)"},n.a.createElement("rect",{width:"28",height:"28"}),n.a.createElement("rect",{width:"24",height:"24",x:"2",y:"2",opacity:".2"}),n.a.createElement("polygon",{fill:"#656565",points:"3 17 7.057 17 15 22 15 6 7.028 11 3 11"}),n.a.createElement("path",{fill:"#656565",fillRule:"nonzero",d:"M17.5246106,7.95077877 C19.6033359,9.16457561 21,11.4191836 21,14 C21,16.5808164 19.6033359,18.8354244 17.5246106,20.0492212 L16.6274168,18.2548335 C18.0513732,17.3736508 19,15.7976072 19,14 C19,12.2023928 18.0513732,10.6263492 16.6274168,9.74516647 L17.5246106,7.95077877 Z"})),n.a.createElement("g",{transform:"translate(0 56)"},n.a.createElement("rect",{width:"28",height:"28"}),n.a.createElement("rect",{width:"24",height:"24",x:"2",y:"2",opacity:".2"}),n.a.createElement("polygon",{fill:"#656565",points:"3 17 7.057 17 15 22 15 6 7.028 11 3 11"}),n.a.createElement("polygon",{fill:"#656565",points:"21 15.414 23.828 18.243 25.243 16.828 22.414 14 25.243 11.172 23.828 9.757 21 12.586 18.172 9.757 16.757 11.172 19.586 14 16.757 16.828 18.172 18.243 21 15.414"}))))};Gt.propTypes={classname:p.a.string},Gt.defaultProps={classname:""};var Jt=function(e){var t=e.className;return n.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",x:"0",y:"0"}),n.a.createElement("path",{fill:"#656565",d:"M5.143,3.429l5.143,0l0,17.142l-5.143,0l0,-17.142Zm8.571,0l5.143,0l0,17.142l-5.143,0l0,-17.142Z"})))};Jt.propTypes={className:p.a.string},Jt.defaultProps={className:""};r(114);function Qt(e){var t=e.audio,r=Object(a.useState)(),s=ke()(r,2),c=s[0],i=s[1];return n.a.createElement("div",{onClick:function(){qe(t)&&(t.current.loop=c,i(!c))}},c?n.a.createElement(Ze.d,{className:"player-button player-loop-button player-loop-button_off"}):n.a.createElement(Ze.d,{className:"player-button player-loop-button player-loop-button_on"}))}Qt.propTypes={audio:p.a.object.isRequired};r(115);function Xt(e){var t=e.audio,r=Object(a.useState)(),s=ke()(r,2),c=s[0],i=s[1];return n.a.createElement("div",{className:"volume-module"},n.a.createElement("div",{className:"volume-module__slider"},n.a.createElement("input",{type:"range",min:"1",max:"100",step:"9",defaultValue:"100",className:"volume-slider",onChange:function(e){return function(e){qe(t)&&(t.current.volume=e.target.value/100)}(e)}})),n.a.createElement("div",{onClick:function(){qe(t)&&(i(!c),t.current.muted=!c)}},c?n.a.createElement(xe.h,{className:"player-button player-volume-button"}):n.a.createElement(xe.i,{className:"player-button player-volume-button"})))}Xt.propTypes={audio:p.a.object.isRequired};r(116);function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function er(e){var t=e.trackInfo,r=e.trackInfo.paused,a=e.playerToggleRedux,s=e.audio;return qe(s)&&(r?s.current.pause():s.current.play()),n.a.createElement("div",{onClick:function(){a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{paused:!r}))}},r?n.a.createElement(xe.c,{className:"player-button player-play-button"}):n.a.createElement(xe.b,{className:"player-button player-pause-button"}))}er.propTypes={audio:p.a.object.isRequired,trackInfo:p.a.shape({trackId:p.a.number.isRequired,paused:p.a.bool.isRequired}).isRequired,playerToggleRedux:p.a.func.isRequired};var tr=Object(l.b)((function(e){return{trackInfo:e.currentTrack}}),(function(e){return{playerToggleRedux:function(t){return e(Re(t))}}}))(er);r(117);function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ar(e){var t=e.currentTrack,r=t.trackId,a=t.paused,s=e.trackList,c=e.playerToggleRedux;return n.a.createElement(Ze.f,{className:"player-button player-prev-button",onClick:function(){return c(ze(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s[Ae(r,s)],{paused:a})))}})}ar.propTypes={currentTrack:p.a.shape({trackId:p.a.number,paused:p.a.bool,id:p.a.number}).isRequired,trackList:p.a.array.isRequired,playerToggleRedux:p.a.func.isRequired};var nr=Object(l.b)((function(e){return{currentTrack:e.currentTrack,trackList:e.trackList}}),(function(e){return{playerToggleRedux:function(t){return e(Re(t))}}}))(ar);r(118);function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function cr(e){var t=e.currentTrack,r=t.trackId,a=t.paused,s=e.trackList,c=e.playerToggleRedux;return n.a.createElement(Ze.e,{className:"player-button player-next-button",onClick:function(){return c(ze(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s[Ue(r,s)],{paused:a})))}})}cr.propTypes={currentTrack:p.a.shape({trackId:p.a.number.isRequired,paused:p.a.bool.isRequired,id:p.a.number}).isRequired,trackList:p.a.array.isRequired,playerToggleRedux:p.a.func.isRequired};var ir=Object(l.b)((function(e){return{currentTrack:e.currentTrack,trackList:e.trackList}}),(function(e){return{playerToggleRedux:function(t){return e(Re(t))}}}))(cr);r(119);function lr(e){var t=e.trackList,r=e.playerToggleRedux,a=e.tracklistSetRedux;return n.a.createElement(Ce.c,{className:"player-button player-shuffle-button",onClick:function(){return r({trackInfo:{trackId:0,paused:!0}}),void a(Me(t))}})}lr.propTypes={trackList:p.a.array.isRequired,playerToggleRedux:p.a.func.isRequired,tracklistSetRedux:p.a.func.isRequired};var or=Object(l.b)((function(e){return{trackList:e.trackList}}),(function(e){return{playerToggleRedux:function(t){return e(Re(t))},tracklistSetRedux:function(t){return e(Ie(t))}}}))(lr),ur=(r(120),function(e){var t=e.trackInfo,r=e.trackList[t.trackId],a=r.albumImgUrl,s=r.trackName,c=r.authorName;return n.a.createElement("div",{className:"current-track-panel"},n.a.createElement("img",{className:"album-image",src:a,alt:"No IMG"}),n.a.createElement("div",{className:"track-info"},n.a.createElement("div",{className:"track-name"},s),n.a.createElement("div",{className:"track-author"},c)))});ur.propTypes={trackInfo:p.a.shape({trackId:p.a.number,paused:p.a.bool}).isRequired,trackList:p.a.array.isRequired};var pr=Object(l.b)((function(e){return{trackInfo:e.currentTrack,trackList:e.trackList}}))(ur),mr=function(e){var t=e.audio;return n.a.createElement("div",{className:"left-control-group"},n.a.createElement("div",{className:"player-controll-buttons"},n.a.createElement(nr,null),n.a.createElement(tr,{audio:t}),n.a.createElement(ir,null),n.a.createElement(Ft,{classname:"player-button player-playlist-button"})),n.a.createElement(pr,null),n.a.createElement("div",{className:"social-buttons"},n.a.createElement(xe.f,{className:"player-button player-like-button"}),n.a.createElement(F,{classname:"player-button player-playlist-add-button"}),n.a.createElement(Zt,{classname:"player-button player-share-button"}),n.a.createElement(Vt,{classname:"player-button player-track-ban-button"})))};mr.propTypes={audio:p.a.object.isRequired};r(121);var dr=function(e){var t=e.audio;return n.a.createElement("div",{className:"right-control-group"},n.a.createElement(or,null),n.a.createElement(Qt,{audio:t}),n.a.createElement(Xt,{audio:t}))};function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}dr.propTypes={audio:p.a.object.isRequired};var gr=function(e){function t(e){var r;return W()(this,t),(r=Q()(this,Y()(t).call(this,e))).audioRef=n.a.createRef(),r}return ae()(t,e),G()(t,[{key:"onEndedHandler",value:function(){var e=this.props,t=e.trackInfo.trackId,r=e.trackList;(0,e.playerToggleRedux)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fr(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r[Ue(t,r)]))}},{key:"render",value:function(){var e=this,t=this.props,r=t.trackInfo,a=t.trackList;return a.length&&n.a.createElement("div",{className:"player-bar"},n.a.createElement(zt,{audio:this.audioRef}),n.a.createElement("div",{className:"content-bar"},n.a.createElement(mr,{audio:this.audioRef}),n.a.createElement(dr,{audio:this.audioRef}),n.a.createElement("audio",{onEnded:function(){return e.onEndedHandler()},src:a[r.trackId].trackUrl,className:"audio-component",ref:this.audioRef})))}}]),t}(n.a.Component);gr.propTypes={trackInfo:p.a.shape({trackId:p.a.number,paused:p.a.bool}).isRequired,trackList:p.a.array.isRequired,playerToggleRedux:p.a.func.isRequired};var hr=Object(l.b)((function(e){return{trackInfo:e.currentTrack,trackList:e.trackList}}),(function(e){return{playerToggleRedux:function(t){return e(Re(t))}}}))(gr);r(122);function yr(){return n.a.createElement("div",{className:"container"},n.a.createElement("h1",{style:{color:"white"}},"Genres"))}r(123);var br=function(){var e=Object(a.useState)([]),t=ke()(e,2),r=t[0],s=t[1],c=Object(l.c)((function(e){return e.isAuthorized})),i=Object(a.useRef)(null);return Object(a.useEffect)((function(){c&&Ct().then((function(e){return s(e)}))}),[]),n.a.createElement("main",{className:"container"},n.a.createElement("h1",{style:{color:"white"}},"Home"),c&&n.a.createElement(Ke,{arrayForSlide:r,reference:i},r.map((function(e){var t=e.image,r=e.title,a=e.id;return n.a.createElement(se,{key:we(),path:t,name:r,refSlide:i,id:a,to:"/users/playlists/"})}))))};function vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vr(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Or=function(e){function t(){var e,r;W()(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=Q()(this,(e=Y()(t)).call.apply(e,[this].concat(n))),_()(te()(r),"state",{secondname:"",firstname:""}),_()(te()(r),"inputHandler",(function(e){e.preventDefault();var t=e.currentTarget,a=t.id,n=t.value;r.setState(_()({},a,n))})),_()(te()(r),"saveNewUserOptions",(function(){var e=r.props,t=e.submitEdit,a=e.currentUser,n=r.state,s=n.firstname,c=n.secondname;t({firstname:s||a.firstname,secondname:c||a.secondname})})),r}return ae()(t,e),G()(t,[{key:"render",value:function(){var e=this.props.currentUser,t=e.firstname,r=e.secondname;return n.a.createElement("div",{className:"edit-user-info"},n.a.createElement(y,{idName:"firstname",onChange:this.inputHandler,defaultValue:t,placeholder:"введие новое имя"}),n.a.createElement(y,{idName:"secondname",onChange:this.inputHandler,defaultValue:r,placeholder:"введие новую фамилию"}),n.a.createElement(h,{onClick:this.saveNewUserOptions},"Save"))}}]),t}(n.a.Component);function kr(e){var t=e.currentUser,r=e.submitEdit;return n.a.createElement("div",{className:"user-settings"},n.a.createElement("h1",{className:"user-settings__title",style:{color:"white"}},"Настройки"),n.a.createElement(Or,{currentUser:t,submitEdit:r}))}Or.propTypes={currentUser:p.a.object.isRequired,submitEdit:p.a.func.isRequired},kr.propTypes={currentUser:p.a.shape({firstname:p.a.string.isRequired,secondname:p.a.string.isRequired,username:p.a.string.isRequired}).isRequired,submitEdit:p.a.func.isRequired};var wr=Object(l.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return{submitEdit:function(t){return e(function(e){return{type:"EDIT_INFO",user:Er({},e)}}(t))}}}))(kr);r(124),r(125);function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tr(e){var t=e.modalClose,r=e.playlistId,s=e.updateData,c=Object(a.useState)(),i=ke()(c,2),l=i[0],o=i[1],u=Object(a.useState)(),p=ke()(u,2),m=p[0],d=p[1];Object(a.useEffect)((function(){w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Ne.getAuthorsList().then((function(e){d(e)})));case 2:case"end":return e.stop()}}))}),[]);var f=function(e){e.preventDefault();var t=e.currentTarget,r=t.id,a=t.value;o(_r({},l,_()({},r,a)))};function g(e){e.preventDefault();var t=e.currentTarget.id,r=new FileReader,a=e.target.files[0];r.onloadend=function(){o(_r({},l,_()({},t,a)))},r.readAsDataURL(a)}return n.a.createElement("div",{className:"playlist-page"},n.a.createElement("div",{className:"song-upload-modal"},n.a.createElement(y,{className:"song-upload-tab__input",type:"string",placeholder:"Название трека",idName:"trackName",onChange:function(e){f(e)}}),n.a.createElement(b,{className:"song-upload-tab__input",type:"string",placeholder:"Имя автора",idName:"trackAuthor",onChange:function(e){f(e)},dataList:m}),n.a.createElement("label",{htmlFor:"trackFile",className:"song-upload-tab__file-button"},n.a.createElement("input",{className:"song-upload-tab__file-input",type:"file",id:"trackFile",onChange:function(e){g(e)}}),n.a.createElement("span",{className:"song-upload-tab__file-button-text"},"Выбрать трек")),n.a.createElement("label",{htmlFor:"trackImgFile",className:"song-upload-tab__file-button"},n.a.createElement("input",{className:"song-upload-tab__file-input",type:"file",id:"trackImgFile",onChange:function(e){g(e)}}),n.a.createElement("span",{className:"song-upload-tab__file-button-text"},"Выбрать изображение")),n.a.createElement(h,{buttonStyle:"primary",buttonType:"button",onClick:function(){var e;(e=new FormData).append("name",l.trackName),e.append("image",l.trackImgFile),e.append("author",l.trackAuthor),e.append("file",l.trackFile),e.append("playlist_id",r),Ne.uploadTrack(e).then((function(){return s()})),t()}}," Сохранить трек")))}Tr.propTypes={playlistId:p.a.number,modalClose:p.a.func.isRequired,updateData:p.a.func},Tr.defaultProps={playlistId:0,updateData:function(){return 1}};r(126);function jr(e){var t=e.songs,r=e.playlistId,s=Object(a.useState)(""),c=ke()(s,2),i=c[0],l=c[1],o=Object(a.useState)([]),u=ke()(o,2),p=u[0],m=u[1];Object(a.useEffect)((function(){w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(ie.getTracks().then((function(e){m(e)})));case 2:case"end":return e.stop()}}))}),[]);var d=function(){return""!==i},f=function(e){return e.filter((function(e){var t=e.trackName,r=e.authorName,a=i.toLowerCase();return t.toLowerCase().includes(a)||r.toLowerCase().includes(a)}))};return n.a.createElement("div",{className:"playlist-page"},n.a.createElement("div",{className:"song-upload-tab"},n.a.createElement(y,{className:"song-search-tab__input",type:"string",placeholder:"Введите имя трека/исполнителя для поиска",idName:"searchField",onChange:function(e){!function(e){e.preventDefault();var t=e.currentTarget.value;l(t)}(e)}}),d()&&0===f(t).length?n.a.createElement("div",null):n.a.createElement(jt,{songs:f(t),playlistId:r}),d()?n.a.createElement(jt,{songs:f(p),playlistId:r,isSearchResult:!0}):n.a.createElement("div",null)))}function Pr(e){var t=e.playlistId,r=e.updateData,s=Object(a.useState)(!1),c=ke()(s,2),i=c[0],l=c[1],o=function(){return l(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(h,{isMain:!1,buttonStyle:"roundTransparent",onClick:function(){return l(!0)},style:{marginRight:"10px"}},n.a.createElement(xe.a,null),"Добавить трек"),i?n.a.createElement(Ot,{onClose:o},n.a.createElement(Tr,{modalClose:function(){o()},playlistId:t,updateData:r})):null)}jr.propTypes={songs:p.a.arrayOf(p.a.shape({trackName:p.a.string,authorName:p.a.string})).isRequired,playlistId:p.a.number},jr.defaultProps={playlistId:0},Pr.propTypes={playlistId:p.a.number,updateData:p.a.func},Pr.defaultProps={playlistId:0,updateData:function(){return 1}};var Rr=function(e){var t=Object(a.useState)({songs:[]}),r=ke()(t,2),s=r[0],c=r[1],l=e.setTrack,o=e.setList,u=e.history,p=Object(i.f)({path:"/users/playlists/:id"}),m=function(){return St(p.params.id).then((function(e){return c(e)}))};Object(a.useEffect)((function(){m()}),[]);var d=s.songs,f=s.title,g=s.image,y=s.id;return n.a.createElement("div",{className:"playlist-page"},n.a.createElement(Ge,{title:f,type:be,imagePath:g,playlistId:y},n.a.createElement(h,{isMain:!1,buttonStyle:"roundBase",onClick:function(){return o(d)},setCurrentTrack:function(){return l((e=d[0],t=!1,{id:e.id,trackId:e.trackId,paused:t}));var e,t}},n.a.createElement(Ze.c,{className:"icon-size"})," Слушать"),n.a.createElement("div",{className:"playlist-controls__right"},n.a.createElement(Pr,{playlistId:y,updateData:m}),n.a.createElement(h,{isMain:!1,buttonStyle:"roundTransparent",onClick:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Ne.delete(y));case 2:u.push("/users/playlists");case 3:case"end":return e.stop()}}))}},n.a.createElement(Dt,null)," Удалить плейлист"))),n.a.createElement(jr,{playlistId:y,songs:d}))},Ir=Object(l.b)((function(e){return{currentTrack:e.currentTrack}}),(function(e){return{setTrack:function(t){return e(Re(t))},setList:function(t){return e(Ie(t))}}}))(Object(i.g)(Rr));Rr.propTypes={history:p.a.shape({push:p.a.func.isRequired}).isRequired,currentTrack:p.a.shape({trackId:p.a.number,paused:p.a.bool}).isRequired,setTrack:p.a.func.isRequired,setList:p.a.func.isRequired};var Cr=function(){return n.a.createElement(i.c,null,n.a.createElement(i.a,{path:d.main,component:br}),n.a.createElement(i.a,{path:d.genres,component:yr}),n.a.createElement(i.a,{path:d.currentPlaylist,render:function(){return n.a.createElement(Ir,null)}}),n.a.createElement(i.a,{path:d.users,component:Ut}),n.a.createElement(i.a,{path:d.settings,component:wr}))},Sr=function(){return n.a.createElement("div",{className:"page"},n.a.createElement(_t,null),n.a.createElement(m,null,n.a.createElement(Cr,null)),n.a.createElement(hr,null))},xr=r(25),Lr=r(53);function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(r,!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mr,Ur={trackId:0,paused:!0},Ar=[{id:8679028575683929e6,trackId:0,trackName:"Песня о нас",authorName:"Нежность на бумаге",albumImgUrl:"https://is1-ssl.mzstatic.com/image/thumb/Music128/v4/a1/33/55/a13355da-7db5-435f-dbd0-b4e682a9a4fb/source/512x512bb.jpg",trackUrl:"https://dl1.mp3party.net/download/8949149"},{id:5775637389405959e6,trackId:1,trackName:"I want to break free",authorName:"Queen",albumImgUrl:"https://avatars.yandex.net/get-music-content/49876/b41364c3.a.63345-1/50x50",trackUrl:"https://dl.viky.ir/upload/Singles/Queen/I%20Want%20To%20Break%20Free.mp3"},{id:7575757574663553e6,trackId:2,trackName:"Звезда по имени Солнце",authorName:"Кино",albumImgUrl:"https://is1-ssl.mzstatic.com/image/thumb/Music128/v4/a1/33/55/a13355da-7db5-435f-dbd0-b4e682a9a4fb/source/512x512bb.jpg",trackUrl:"https://muzmo.org/get/music/20170830/muzmo_ru_Kino_-_Zvezda_po_imeni_Solnce_47828842.mp3"}],zr=Object(xr.combineReducers)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return Et({},t.user);case"EDIT_INFO":return Et({},e,{},t.user);default:return e}},isAuthorized:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTHORIZATION":return t.isAuthorized;default:return e}},currentTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_TRACK":return qr({},e,{},t.payload);default:return e}},trackList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PLAYLIST":return Te()(t.payload);case"ADD_TO_TRACKLIST":t.payload.trackId=e.length;var r=!0;return e.forEach((function(e){e.id===t.payload.id&&(r=!1)})),r?[].concat(Te()(e),[t.payload]):e;default:return e}}}),Br=(Mr=Object(Lr.composeWithDevTools)(),Object(xr.createStore)(zr,void 0,Mr));c.a.render(n.a.createElement((function(){var e=Object(o.a)();return n.a.createElement(l.a,{store:Br},n.a.createElement(i.b,{history:e},n.a.createElement(bt,null,n.a.createElement(Sr,null))))}),null),document.getElementById("app"))}]));